"use strict";(self.webpackChunkparking_soft=self.webpackChunkparking_soft||[]).push([[640],{7640:(ce,_,r)=>{r.r(_),r.d(_,{FeatureReportModule:()=>se});var A=r(837),u=r(1896),l=r(6223);let y=(()=>{class t{static#e=this.phone=/^(?:\+?88)?01[3-9]\d{8}$/;static#t=this.email="^[w-.]+@([w-]+.)+[w-]{2,4}$";static#o=this.whiteSpace="/^[a-zA-Z.0-9#@-_=?$%,+<> ]*[a-zA-Z.0-9#@-_=?$%,+<>]$/";static#n=this.url="/^((https?|ftp|smtp)://)?(www.)?[a-z0-9]+(.[a-z]{2,}){1,3}(#?/?[a-zA-Z0-9#]+)*/?(?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/"}return t})(),p=(()=>{class t{static#e=this.SAVE_MESSAGE="Vehicle Info save successfully!";static#t=this.UPDATE_MESSAGE="Vehicle Info successfully!";static#o=this.DELETE_MESSAGE="Vehicle Info deleted Successfully!";static#n=this.NO_ITEM_FOUND="No Vehicle found !";static#i=this.STATUS_UPDATED_MESSAGE="Vehicle Info updated successfully!";static#a=this.INVALID_FORM_MESSAGE="Invalid Form!";static#r=this.STATUS=[{id:"in",title:"IN"},{id:"out",title:"OUT"}];static#l=this.VEHICLE_TYPE=[{id:"microbus",title:"Microbus"},{id:"car",title:"Car"},{id:"truck",title:"Truck"}]}return t})();var e=r(5879),C=r(7815),N=r(8895),f=r(6814),v=r(2296),F=r(8034),T=r(4170),Z=r(7466),U=r(8525),b=r(3680),d=r(5195),w=r(2032),g=r(3814),m=r(9023);const D=["picker"],q=["picker1"];function I(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," This is required Field "),e.qZA())}function x(t,i){if(1&t&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.title)}}function k(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," This is required Field "),e.qZA())}function V(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," This is required Field "),e.qZA())}function E(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," This is required Field "),e.qZA())}function M(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," This Not a valid Number "),e.qZA())}function Y(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," This is required Field "),e.qZA())}function O(t,i){if(1&t&&(e.TgZ(0,"mat-radio-button",24),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.Q6J("value",n.id),e.xp6(1),e.hij(" ",n.title," ")}}let S=(()=>{class t{constructor(n,a,o,c,h){this.fb=n,this.route=a,this.snackbar=o,this.router=c,this.localStorageService=h,this.disabled=!1,this.showSpinners=!0,this.showSeconds=!1,this.touchUi=!1,this.enableMeridian=!0,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.color="primary"}ngOnInit(){this.params=this.route.snapshot.params.id,this.vehicleType=p.VEHICLE_TYPE,this.status=p.STATUS,this.vehicleForm=this.fb.group({licenseNo:["",[l.kI.required]],vehicleTypes:["",[l.kI.required]],ownerName:["",[l.kI.required]],ownerPhone:["",[l.kI.required,l.kI.pattern(y.phone)]],ownerAddress:["",[]],entryTime:["",[]],exitTime:["",[]],status:["in",[]],charge:[0,[l.kI.required]]}),this.params&&this.patchForm()}onSubmit(){let n=[];if(n=this.localStorageService.getLocalStorageData()?this.localStorageService.getLocalStorageData():[],this.params){const a=n.findIndex(o=>+o.id==+this.params);if(-1!==a){let o={id:this.params,...this.vehicleForm.value};n[a]=o,localStorage.setItem("vehicleInfo",JSON.stringify(n)),this.snackbar.success(p.UPDATE_MESSAGE),this.router.navigate(["/vehicle/list"])}}else{let a=0;n&&n.length>0&&(a=n.length);let o={id:a,...this.vehicleForm.value};n.push(o),localStorage.setItem("vehicleInfo",JSON.stringify(n)),this.snackbar.success(p.SAVE_MESSAGE),this.router.navigate(["/vehicle/list"])}this.vehicleForm.reset()}patchForm(){let n=[];n=this.localStorageService.getLocalStorageData();const a=n.find(o=>+o.id==+this.params);if(!a)return this.snackbar.warn(p.NO_ITEM_FOUND);this.vehicleForm.patchValue({licenseNo:a?.licenseNo||"",vehicleTypes:a?.vehicleTypes||"",ownerName:a?.ownerName||"",ownerPhone:a?.ownerPhone||"",ownerAddress:a?.ownerAddress||"",entryTime:a?.entryTime||null,exitTime:a?.exitTime||null,status:a?.status||"in",charge:a?.charge||0})}static#e=this.\u0275fac=function(a){return new(a||t)(e.Y36(l.qu),e.Y36(u.gz),e.Y36(C.o),e.Y36(u.F0),e.Y36(N.n))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-vehicle-save"]],viewQuery:function(a,o){if(1&a&&(e.Gf(D,5),e.Gf(q,5)),2&a){let c;e.iGM(c=e.CRH())&&(o.picker=c.first),e.iGM(c=e.CRH())&&(o.picker1=c.first)}},decls:73,vars:31,consts:[["mat-card-avatar","",1,"example-header-image"],["fxLayout","row wrap","fxLayoutGap","16px grid",3,"formGroup"],["fxFlex.gt-sm","33%","fxFlex.xs","100%"],["appearance","outline"],["matInput","","formControlName","licenseNo","type","text"],[4,"ngIf"],["formControlName","vehicleTypes"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","ownerName","type","text"],["matInput","","formControlName","ownerPhone","type","text"],["matInput","","formControlName","ownerAddress"],["matInput","","formControlName","charge","type","number"],["matInput","","placeholder","Choose a date","formControlName","entryTime",3,"ngxMatDatetimePicker","min","max"],["matSuffix","",3,"for"],[3,"showSpinners","showSeconds","stepHour","stepMinute","stepSecond","touchUi"],["picker",""],["mat-button","","ngxMatDatepickerCancel",""],["mat-raised-button","","color","primary","ngxMatDatepickerApply",""],["matInput","","placeholder","Choose a date","formControlName","exitTime",3,"ngxMatDatetimePicker","min","max"],["picker1",""],["formControlName","status","aria-label","Select an option"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"example-radio-button",3,"value"]],template:function(a,o){if(1&a&&(e.TgZ(0,"mat-card")(1,"mat-card-header"),e._UZ(2,"div",0),e.TgZ(3,"mat-card-title"),e._uU(4,"Vehicle Information Form"),e.qZA()(),e.TgZ(5,"mat-card-content")(6,"form",1)(7,"div",2)(8,"mat-form-field",3)(9,"mat-label"),e._uU(10,"License Number"),e.qZA(),e._UZ(11,"input",4),e.YNc(12,I,2,0,"mat-error",5),e.qZA()(),e.TgZ(13,"div",2)(14,"mat-form-field",3)(15,"mat-label"),e._uU(16,"Vehicle Types"),e.qZA(),e.TgZ(17,"mat-select",6),e.YNc(18,x,2,2,"mat-option",7),e.qZA(),e.YNc(19,k,2,0,"mat-error",5),e.qZA()(),e.TgZ(20,"div",2)(21,"mat-form-field",3)(22,"mat-label"),e._uU(23,"Owner name"),e.qZA(),e._UZ(24,"input",8),e.YNc(25,V,2,0,"mat-error",5),e.qZA()(),e.TgZ(26,"div",2)(27,"mat-form-field",3)(28,"mat-label"),e._uU(29,"Owner Phone"),e.qZA(),e._UZ(30,"input",9),e.YNc(31,E,2,0,"mat-error",5),e.YNc(32,M,2,0,"mat-error",5),e.qZA()(),e.TgZ(33,"div",2)(34,"mat-form-field",3)(35,"mat-label"),e._uU(36,"Owner Address"),e.qZA(),e._UZ(37,"textarea",10),e.qZA()(),e.TgZ(38,"div",2)(39,"mat-form-field",3)(40,"mat-label"),e._uU(41,"Parking charge"),e.qZA(),e._UZ(42,"input",11),e.YNc(43,Y,2,0,"mat-error",5),e.qZA()(),e.TgZ(44,"div",2)(45,"mat-form-field"),e._UZ(46,"input",12)(47,"mat-datepicker-toggle",13),e.TgZ(48,"ngx-mat-datetime-picker",14,15)(50,"ngx-mat-datepicker-actions")(51,"button",16),e._uU(52,"Cancel"),e.qZA(),e.TgZ(53,"button",17),e._uU(54,"Apply"),e.qZA()()()()(),e.TgZ(55,"div",2)(56,"mat-form-field"),e._UZ(57,"input",18)(58,"mat-datepicker-toggle",13),e.TgZ(59,"ngx-mat-datetime-picker",14,19)(61,"ngx-mat-datepicker-actions")(62,"button",16),e._uU(63,"Cancel"),e.qZA(),e.TgZ(64,"button",17),e._uU(65,"Apply"),e.qZA()()()()(),e.TgZ(66,"div",2)(67,"mat-label"),e._uU(68,"Status"),e.qZA(),e.TgZ(69,"mat-radio-group",20),e.YNc(70,O,2,2,"mat-radio-button",21),e.qZA()()(),e.TgZ(71,"button",22),e.NdJ("click",function(){return o.onSubmit()}),e._uU(72),e.qZA()()()),2&a){const c=e.MAs(49),h=e.MAs(60);e.xp6(6),e.Q6J("formGroup",o.vehicleForm),e.xp6(6),e.Q6J("ngIf",(null==o.vehicleForm.controls.licenseNo||null==o.vehicleForm.controls.licenseNo.errors?null:o.vehicleForm.controls.licenseNo.errors.required)&&((null==o.vehicleForm.controls.licenseNo?null:o.vehicleForm.controls.licenseNo.dirty)||(null==o.vehicleForm.controls.licenseNo?null:o.vehicleForm.controls.licenseNo.touched))),e.xp6(6),e.Q6J("ngForOf",o.vehicleType),e.xp6(1),e.Q6J("ngIf",(null==o.vehicleForm.controls.vehicleTypes||null==o.vehicleForm.controls.vehicleTypes.errors?null:o.vehicleForm.controls.vehicleTypes.errors.required)&&((null==o.vehicleForm.controls.vehicleTypes?null:o.vehicleForm.controls.vehicleTypes.dirty)||(null==o.vehicleForm.controls.vehicleTypes?null:o.vehicleForm.controls.vehicleTypes.touched))),e.xp6(6),e.Q6J("ngIf",(null==o.vehicleForm.controls.ownerName||null==o.vehicleForm.controls.ownerName.errors?null:o.vehicleForm.controls.ownerName.errors.required)&&((null==o.vehicleForm.controls.ownerName?null:o.vehicleForm.controls.ownerName.dirty)||(null==o.vehicleForm.controls.ownerName?null:o.vehicleForm.controls.ownerName.touched))),e.xp6(6),e.Q6J("ngIf",(null==o.vehicleForm.controls.ownerPhone||null==o.vehicleForm.controls.ownerPhone.errors?null:o.vehicleForm.controls.ownerPhone.errors.required)&&((null==o.vehicleForm.controls.ownerPhone?null:o.vehicleForm.controls.ownerPhone.dirty)||(null==o.vehicleForm.controls.ownerPhone?null:o.vehicleForm.controls.ownerPhone.touched))),e.xp6(1),e.Q6J("ngIf",null==o.vehicleForm.controls.ownerPhone||null==o.vehicleForm.controls.ownerPhone.errors?null:o.vehicleForm.controls.ownerPhone.errors.pattern),e.xp6(11),e.Q6J("ngIf",(null==o.vehicleForm.controls.charge||null==o.vehicleForm.controls.charge.errors?null:o.vehicleForm.controls.charge.errors.required)&&((null==o.vehicleForm.controls.charge?null:o.vehicleForm.controls.charge.dirty)||(null==o.vehicleForm.controls.charge?null:o.vehicleForm.controls.charge.touched))),e.xp6(3),e.Q6J("ngxMatDatetimePicker",c)("min",o.minDate)("max",o.maxDate),e.xp6(1),e.Q6J("for",c),e.xp6(1),e.Q6J("showSpinners",o.showSpinners)("showSeconds",o.showSeconds)("stepHour",o.stepHour)("stepMinute",o.stepMinute)("stepSecond",o.stepSecond)("touchUi",o.touchUi),e.xp6(9),e.Q6J("ngxMatDatetimePicker",h)("min",o.minDate)("max",o.maxDate),e.xp6(1),e.Q6J("for",h),e.xp6(1),e.Q6J("showSpinners",o.showSpinners)("showSeconds",o.showSeconds)("stepHour",o.stepHour)("stepMinute",o.stepMinute)("stepSecond",o.stepSecond)("touchUi",o.touchUi),e.xp6(11),e.Q6J("ngForOf",o.status),e.xp6(1),e.Q6J("disabled",!o.vehicleForm.valid),e.xp6(1),e.Oqu(o.params?"Edit":"Submit")}},dependencies:[f.sg,f.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,v.lW,F.nW,T.KE,T.hX,T.TO,T.R9,Z.VQ,Z.U0,U.gD,b.ey,d.a8,d.kc,d.dn,d.dk,d.n5,w.Nt,g.xw,g.SQ,g.yH,m.rZ,m.T$,m.c_,m.dW,m.cL],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}@media screen and (min-width: 600px){mat-card[_ngcontent-%COMP%]{width:80%;margin:0 auto}}"]})}return t})();var s=r(5313),Q=r(617);function J(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1,"ID"),e.qZA())}function P(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.id)}}function L(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1,"Owner Name"),e.qZA())}function $(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.ownerName)}}function H(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1,"Vehicle type"),e.qZA())}function G(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,n.vehicleTypes))}}function B(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1,"License No"),e.qZA())}function R(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(n.licenseNo)}}function z(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1,"Entry Time"),e.qZA())}function j(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,n.entryTime,"short"))}}function W(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1,"Exit Time"),e.qZA())}function X(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,n.exitTime,"short"))}}function K(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1,"Status"),e.qZA())}function ee(t,i){if(1&t&&(e.TgZ(0,"td",17),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&t){const n=i.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,n.status))}}function te(t,i){1&t&&(e.TgZ(0,"th",16),e._uU(1,"Actions"),e.qZA())}function oe(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"td",17)(1,"button",18),e.NdJ("click",function(){const c=e.CHM(n).$implicit,h=e.oxw();return e.KtG(h.editItem(c))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()()()}}function ne(t,i){1&t&&e._UZ(0,"tr",19)}function ie(t,i){1&t&&e._UZ(0,"tr",20)}const ae=function(){return["/vehicle/save"]},re=[{path:"save",component:S,data:{title:"Vehicle Save"}},{path:"edit/:id",component:S,data:{title:"Vehicle Save"}},{path:"list",component:(()=>{class t{constructor(n){this.router=n,this.displayedColumns=["id","name","type","licenseNo","entryTime","exitTime","status","actions"],this.dataSource=new s.by}ngOnInit(){let n=[];n=JSON.parse(localStorage.getItem("vehicleInfo")),this.dataSource=new s.by(n)}editItem(n){this.router.navigate([`/vehicle/edit/${n.id}`])}static#e=this.\u0275fac=function(a){return new(a||t)(e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-data-table"]],decls:35,vars:5,consts:[[1,"mat-table-responsive"],[1,"header"],["mat-raised-button","","color","primary",3,"routerLink"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","licenseNo"],["matColumnDef","entryTime"],["matColumnDef","exitTime"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"Vehicle List"),e.qZA(),e.TgZ(4,"button",2)(5,"mat-icon"),e._uU(6,"add"),e.qZA(),e._uU(7,"Add Info "),e.qZA()(),e.TgZ(8,"table",3),e.ynx(9,4),e.YNc(10,J,2,0,"th",5),e.YNc(11,P,2,1,"td",6),e.BQk(),e.ynx(12,7),e.YNc(13,L,2,0,"th",5),e.YNc(14,$,2,1,"td",6),e.BQk(),e.ynx(15,8),e.YNc(16,H,2,0,"th",5),e.YNc(17,G,3,3,"td",6),e.BQk(),e.ynx(18,9),e.YNc(19,B,2,0,"th",5),e.YNc(20,R,2,1,"td",6),e.BQk(),e.ynx(21,10),e.YNc(22,z,2,0,"th",5),e.YNc(23,j,3,4,"td",6),e.BQk(),e.ynx(24,11),e.YNc(25,W,2,0,"th",5),e.YNc(26,X,3,4,"td",6),e.BQk(),e.ynx(27,12),e.YNc(28,K,2,0,"th",5),e.YNc(29,ee,3,3,"td",6),e.BQk(),e.ynx(30,13),e.YNc(31,te,2,0,"th",5),e.YNc(32,oe,4,0,"td",6),e.BQk(),e.YNc(33,ne,1,0,"tr",14),e.YNc(34,ie,1,0,"tr",15),e.qZA()()),2&a&&(e.xp6(4),e.Q6J("routerLink",e.DdM(4,ae)),e.xp6(4),e.Q6J("dataSource",o.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",o.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[v.lW,v.RK,Q.Hw,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,u.rH,f.gd,f.uU],styles:[".header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})}return t})(),data:{title:"Vehicle Save"}}];let le=(()=>{class t{static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(re),u.Bz]})}return t})(),se=(()=>{class t{static#e=this.\u0275fac=function(a){return new(a||t)};static#t=this.\u0275mod=e.oAB({type:t});static#o=this.\u0275inj=e.cJS({imports:[A.m,le,m.EC,m.Yy]})}return t})()}}]);